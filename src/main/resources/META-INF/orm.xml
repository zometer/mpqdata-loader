<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings
	version="2.0"
	xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm
	http://java.sun.com/xml/ns/persistence/orm_2_0.xsd "
>

	<named-native-query name="LocaleText.fetchAllTextKeys" >
		<query>
			select distinct(name_key)
			from mpq_data.mpq_character
			where 1=1
			union
			select distinct(subtitle_key)
			from mpq_data.mpq_character
			where 1=1
			union
			select distinct(character_bio_key)
			from mpq_data.mpq_character
			where 1=1
			union
			select distinct(name_key)
			from mpq_data.ability
			where 1=1
			union
			select distinct(description_key)
			from mpq_data.ability
			where 1=1
		</query>
	</named-native-query>
	<named-native-query name="CharacterCover.insertForNewCharacters" >
		<query>
			insert into mpq_data.character_cover (
				mpq_character_id
			)
			select mcr.mpq_character_id
			from mpq_data.mpq_character mcr
					left outer join mpq_data.character_cover cvr
						on cvr.mpq_character_id = mcr.mpq_character_id
			where 1=1
			and   cvr.mpq_character_id is null
			order by mcr.release_date,
					mpq_character_id
		</query>
	</named-native-query>

</entity-mappings>